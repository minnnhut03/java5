<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Gi·ªè h√†ng</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
	rel="stylesheet">
<!-- Bootstrap CSS -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
	rel="stylesheet">
<!-- Bootstrap Icons CSS -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
	rel="stylesheet">
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<style>
/* Hi·ªÉn th·ªã dropdown khi hover v√†o nav-item */
.nav-item.dropdown:hover .custom-dropdown {
	display: block;
	opacity: 1;
	transform: translateY(0);
	transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
}

/* ƒê·∫£m b·∫£o dropdown kh√¥ng b·ªã ·∫©n khi r√™ chu·ªôt v√†o dropdown */
.custom-dropdown {
	position: absolute;
	left: 0;
	width: 100vw;
	top: 100%;
	background: white;
	padding: 20px;
	opacity: 0;
	display: none;
	transform: translateY(10px);
	transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
	z-index: 1000;
	border: none;
}

/* Khi hover v√†o dropdown th√¨ kh√¥ng b·ªã ·∫©n */
.nav-item.dropdown:hover .custom-dropdown, .custom-dropdown:hover {
	display: block;
	opacity: 1;
	transform: translateY(0);
}

.custom-dropdown .dropdown-header {
	font-weight: bold;
	color: black;
}

.custom-dropdown .dropdown-item {
	color: #555;
	font-size: 14px;
}

.custom-dropdown .dropdown-item:hover {
	color: black;
	background: #f8f9fa;
}

/* B·ªè m≈©i t√™n tr√™n dropdown */
.navbar .nav-item .nav-link.no-arrow::after {
	display: none !important;
}

/* G·∫°ch ch√¢n khi hover */
.navbar .nav-item .nav-link:hover {
	text-decoration: underline;
}

.search-box {
	display: flex;
	align-items: center;
	border: 1px solid #e0e0e0;
	/* Nh·∫π h∆°n cho c·∫£m gi√°c hi·ªán ƒë·∫°i */
	border-radius: 30px;
	/* T·∫°o g√≥c bo tr√≤n m·ªÅm m·∫°i */
	padding: 6px 12px;
	/* T·∫°o kho·∫£ng c√°ch g·ªçn g√†ng */
	width: 200px;
	/* K√≠ch th∆∞·ªõc ph√π h·ª£p */
	background-color: #f9f9f9;
	/* M√†u n·ªÅn nh·∫π nh√†ng */
}

.search-box i {
	color: #888;
	/* M√†u bi·ªÉu t∆∞·ª£ng trung t√≠nh */
	font-size: 1.2rem;
	/* Bi·ªÉu t∆∞·ª£ng k√≠nh l√∫p r√µ h∆°n */
	margin-right: 8px;
}

.search-box input {
	border: none;
	outline: none;
	flex-grow: 1;
	/* Cho ph√©p √¥ nh·∫≠p li·ªáu co gi√£n */
	font-size: 0.9rem;
	/* Font nh·ªè, tinh t·∫ø */
	background-color: transparent;
	/* ƒê·ªìng nh·∫•t m√†u n·ªÅn */
}

.search-box input::placeholder {
	color: #aaa;
	/* M√†u placeholder nh·∫π h∆°n */
}

.search-box:hover {
	border-color: #c5c5c5;
	/* T·∫°o hi·ªáu ·ª©ng khi hover */
}

.search-box i, .navbar a i {
	color: #555;
	/* M√†u x√°m ƒë·∫≠m, ph√π h·ª£p v·ªõi header */
	transition: color 0.3s ease;
	/* Hi·ªáu ·ª©ng m∆∞·ª£t */
}

.search-box:hover i, .navbar a:hover i {
	color: #333;
	/* M√†u ƒëen nh·∫°t khi hover */
}
/* Hover hi·ªáu ·ª©ng cho b·∫£ng */
.table-hover tbody tr:hover {
	background-color: #f8f9fa !important;
	transition: background-color 0.3s ease-in-out;
}

/* Hi·ªáu ·ª©ng n√∫t */
.btn:hover {
	transform: scale(1.05);
	transition: transform 0.2s ease-in-out;
}

.footer {
	background-color: #333;
	color: #fff;
	padding: 20px 0;
	margin-top: 20px;
}

.footer h5 {
	font-weight: bold;
	margin-bottom: 10px;
}

.footer ul {
	list-style: none;
	padding: 0;
	margin: 0;
}

.footer li {
	margin-bottom: 10px;
}

.footer a {
	color: #fff;
	text-decoration: none;
}

.footer a:hover {
	color: #ccc;
}

.footer p {
	font-size: 14px;
	margin-bottom: 10px;
}
</style>
</head>
<body>
	<div th:insert="~{user/header :: header}"></div>
	<div class="container mt-3">
		<h2 class="mb-3 text-center">ƒê∆°n H√†ng C·ªßa B·∫°n</h2>

		<div class="table-responsive">
			<table class="table table-bordered table-striped table-hover">
				<thead class="table-dark text-center">
					<tr>
						<th>T√™n s·∫£n ph·∫©m</th>
						<th>size</th>
						<th>S·ªë l∆∞·ª£ng</th>					
						<th>Gi√°</th>
						<th>T·ªïng</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="item : ${selectedCartItems}"
						class="align-middle text-center">
						<td th:text="${item.product.name}"></td>
						<td th:text="${item.size}"></td>
						<td th:text="${item.quantity}"></td>
						<td
							th:text="${#numbers.formatDecimal(item.product.price, 0, 'COMMA', 0, 'POINT')} + ' VND'"></td>
						<td
							th:text="${#numbers.formatDecimal(item.quantity * item.product.price, 0, 'COMMA', 0, 'POINT')} + ' VND'"></td>
					</tr>
				</tbody>
			</table>
		</div>
		<div class="text-end mt-4">
			<h4 class="fw-bold">
				T·ªïng ti·ªÅn: <span class="text-danger"
					th:text="${#numbers.formatDecimal(totalPrice, 0, 'COMMA', 0, 'POINT')} + ' VND'"></span>
			</h4>
		</div>
		<form action="/checkout" method="post" class="mt-4">
			<h4 class="mb-3 text-center fw-bold">Ch·ªçn ƒê·ªãa Ch·ªâ Giao H√†ng</h4>
			
			<div class="mb-3">
				<label for="address" class="form-label fw-semibold">ƒê·ªãa ch·ªâ
					c·ªßa b·∫°n:</label>
				<div class="input-group">
					<select class="form-select" id="address" name="addressId" required>
						<option value="">-- Ch·ªçn ƒê·ªãa Ch·ªâ --</option>
						<option th:each="addr : ${addressList}" th:value="${addr.id}"
							th:text="${addr.customerName} + ' - ' + ${addr.phoneNumber} + ' - ' + ${addr.address}">
						</option>
					</select> <a href="/user/address/add" class="btn btn-primary">‚ûï Th√™m ƒê·ªãa
						Ch·ªâ</a>
				</div>
			</div>
			<div class="d-flex justify-content-end gap-3 mt-4">
				<button type="submit"
					class="btn btn-success px-4 py-2 fw-bold shadow-sm">üí≥
					Thanh to√°n ngay</button>
				<a href="/user/cart"
					class="btn btn-outline-danger px-4 py-2 fw-bold shadow-sm">‚ùå
					H·ªßy</a>
			</div>
		</form>
	</div>
	<div th:insert="~{user/footer :: footer}"></div>
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
